"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[313],{313:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n,a,s=r(861),c=r(439),u=r(757),i=r.n(u),o=r(16),l=r(791),h=r(162),f=r(168),p=r(867),d=(0,p.ZP)(h.rU)(n||(n=(0,f.Z)(["\n  color: #0080ff;\n"]))),m=p.ZP.li(a||(a=(0,f.Z)(["\n  margin-top: 7px;\n"]))),v=r(184),x=function(){var e=(0,l.useState)(""),t=(0,c.Z)(e,2),r=t[0],n=t[1],a=(0,l.useState)([]),u=(0,c.Z)(a,2),f=u[0],p=u[1],x=(0,h.TH)(),Z=(0,l.useRef)(null);(0,l.useEffect)((function(){var e,t;null!==(e=x.state)&&void 0!==e&&e.searchResults&&null!==(t=x.state)&&void 0!==t&&t.searchQuery&&(console.log("Restoring state:",x.state),p(x.state.searchResults),n(x.state.searchQuery))}),[x.state]),(0,l.useEffect)((function(){Z.current&&Z.current.focus()}),[]);var g=function(){var e=(0,s.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o.Z.get("https://api.themoviedb.org/3/search/movie",{params:{query:r,include_adult:!1,language:"en-US",page:1},headers:{Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1Njg5NDA1ZWJhNDUxNzlhNmNiYmUxMDUyZDY5MmZkNiIsIm5iZiI6MTczOTM4MTExNi4xODUsInN1YiI6IjY3YWNkOTdjNDE0ODNkZDVjY2QwYTYzYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.bqRMNFSIZqgBue7vq7jAe6cwg14L9DxQs_A7rFUOpq4"),Accept:"application/json"}});case 4:n=e.sent,p(n.data.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error fetching movies: ",e.t0),p([]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)("div",{children:[(0,v.jsxs)("form",{onSubmit:g,children:[(0,v.jsx)("input",{ref:Z,type:"text",value:r,placeholder:"",onChange:function(e){n(e.target.value)}}),(0,v.jsx)("button",{type:"submit",children:"Search"})]}),(0,v.jsx)("ul",{children:f.map((function(e){return(0,v.jsx)(m,{children:(0,v.jsx)(d,{to:"/movies/".concat(e.id),state:{from:"/movies",searchResults:f,searchQuery:r},children:e.title||e.name})},e.id)}))})]})}}}]);
//# sourceMappingURL=313.07938709.chunk.js.map