"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[313],{313:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n,a,s=r(861),c=r(439),o=r(757),u=r.n(o),i=r(16),l=r(791),h=r(162),f=r(168),p=r(867),d=(0,p.ZP)(h.rU)(n||(n=(0,f.Z)(["\n  color: #0080ff;\n"]))),v=p.ZP.li(a||(a=(0,f.Z)(["\n  margin-top: 7px;\n"]))),m=r(184),_=function(){var e=(0,l.useState)(""),t=(0,c.Z)(e,2),r=t[0],n=t[1],a=(0,l.useState)([]),o=(0,c.Z)(a,2),f=o[0],p=o[1],_=(0,h.TH)(),E=(0,l.useRef)(null);(0,l.useEffect)((function(){var e,t;null!==(e=_.state)&&void 0!==e&&e.searchResults&&null!==(t=_.state)&&void 0!==t&&t.searchQuery&&(console.log("Restoring state:",_.state),p(_.state.searchResults),n(_.state.searchQuery))}),[_.state]),(0,l.useEffect)((function(){E.current&&E.current.focus()}),[]);var S=function(){var e=(0,s.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i.Z.get("https://api.themoviedb.org/3/search/movie",{params:{query:r,include_adult:!1,language:"en-US",page:1},headers:{Authorization:"Bearer ".concat({NODE_ENV:"production",PUBLIC_URL:"/goit-react-hw-05-movies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BEARER_TOKEN),Accept:"application/json"}});case 4:n=e.sent,p(n.data.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error fetching movies: ",e.t0),p([]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsxs)("form",{onSubmit:S,children:[(0,m.jsx)("input",{ref:E,type:"text",value:r,placeholder:"",onChange:function(e){n(e.target.value)}}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),(0,m.jsx)("ul",{children:f.map((function(e){return(0,m.jsx)(v,{children:(0,m.jsx)(d,{to:"/movies/".concat(e.id),state:{from:"/movies",searchResults:f,searchQuery:r},children:e.title||e.name})},e.id)}))})]})}}}]);
//# sourceMappingURL=313.187a80ed.chunk.js.map